/* Dashboard.css - Nuevos estilos modernos */

/* Variables de colores */
:root {
    --color-primary: #EF6646;
    --color-secondary: #9AF016;
    --color-dark: #424F70;
    --color-light: #f8f9fa;
    --color-gray: #6c757d;
    --color-success: #10B981;
    --color-warning: #FBBF24;
    --color-danger: #EF4444;
    --color-info: #3B82F6;
    --color-pending: #9333EA;
    --color-progress: #6366F1;
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 1rem;
    --navbar-width-expanded: 220px;
    --navbar-width-collapsed: 80px;
}

/* Estructura básica */


.dashboard-content {
    padding: 1rem;
    margin-left: var(--navbar-width-expanded);
    width: calc(100vw - var(--navbar-width-expanded));
    box-sizing: border-box;
    transition: all 0.3s ease;
    background-color: #f5f5f7;
    overflow-y: auto;
    height: 100vh;
}

.dashboard-content.navbar-collapsed {
    margin-left: var(--navbar-width-collapsed) !important;
    width: calc(100vw - var(--navbar-width-collapsed)) !important;
}

/* Cuando la navbar está colapsada, ajustar el espacio del contenido */


/* Encabezado del Dashboard */
.dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.dashboard-title {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--color-dark);
    margin: 0;
}

.dashboard-fecha {
    font-size: 0.875rem;
    color: var(--color-gray);
}

/* Pestañas de navegación */
.dashboard-tabs {
    display: flex;
    gap: 0.25rem;
    margin-bottom: 1.5rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.dashboard-tab {
    padding: 0.75rem 1.5rem;
    background: transparent;
    border: none;
    border-bottom: 3px solid transparent;
    font-size: 0.95rem;
    font-weight: 500;
    color: var(--color-gray);
    cursor: pointer;
    transition: all 0.2s ease;
}

.dashboard-tab:hover {
    color: var(--color-primary);
}

.dashboard-tab.active {
    color: var(--color-primary);
    border-bottom-color: var(--color-primary);
}

/* Contenido principal */
.dashboard-main {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Indicador de carga */
.dashboard-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 300px;
}

.dashboard-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid rgba(0, 0, 0, 0.1);
    border-radius: 50%;
    border-top-color: var(--color-primary);
    animation: spin 1s ease-in-out infinite;
    margin-bottom: 1rem;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Fila de estadísticas */
.dashboard-stats-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

/* Tarjetas de estadísticas */
.dashboard-stat-card {
    background-color: white;
    border-radius: var(--radius-md);
    padding: 1.5rem;
    box-shadow: var(--shadow-md);
    display: flex;
    flex-direction: column;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    overflow: hidden;
}

.dashboard-stat-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
}

/* Contenido de tarjetas de estadísticas */
.stat-card-content {
    padding: 0.5rem 0;
}

.stat-card-content h3 {
    font-size: 0.875rem;
    color: var(--color-gray);
    margin: 0 0 0.75rem 0;
    font-weight: 500;
}

.stat-card-content h2 {
    font-size: 2rem;
    font-weight: 700;
    margin: 0 0 0.5rem 0;
    color: var(--color-dark);
}

/* Indicadores de incremento/decremento */
.dashboard-incremento-positivo {
    color: var(--color-success);
    font-size: 0.875rem;
    display: flex;
    align-items: center;
}

.dashboard-incremento-negativo {
    color: var(--color-danger);
    font-size: 0.875rem;
    display: flex;
    align-items: center;
}

/* Iconos de las tarjetas */
.stat-card-icon {
    width: 48px;
    height: 48px;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.75rem;
    margin-bottom: 0.75rem;
}

.stat-card-icon.estudiantes {
    background-color: rgba(59, 130, 246, 0.1);
    color: var(--color-info);
}

.stat-card-icon.tutores {
    background-color: rgba(147, 51, 234, 0.1);
    color: var(--color-pending);
}

.stat-card-icon.asistencia {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--color-success);
}

/* Barra de progreso */
.progress-bar {
    width: 100%;
    height: 8px;
    background-color: rgba(16, 185, 129, 0.1);
    border-radius: var(--radius-sm);
    margin-top: 0.5rem;
    overflow: hidden;
}

.progress-bar .progress {
    height: 100%;
    background-color: var(--color-success);
    border-radius: var(--radius-sm);
}

/* Estilos para el card de actividades */
.actividades-stats {
    display: flex;
    justify-content: space-between;
    gap: 0.75rem;
}

.actividad-stat {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem;
    border-radius: var(--radius-sm);
    background-color: #f8f9fa;
    flex: 1;
}

.stat-icon {
    width: 36px;
    height: 36px;
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.25rem;
}

.stat-icon.completadas {
    background-color: rgba(16, 185, 129, 0.1);
    color: var(--color-success);
}

.stat-icon.pendientes {
    background-color: rgba(251, 191, 36, 0.1);
    color: var(--color-warning);
}

.stat-details h4 {
    font-size: 0.75rem;
    font-weight: 500;
    color: var(--color-gray);
    margin: 0 0 0.25rem 0;
}

.stat-details p {
    font-size: 1.125rem;
    font-weight: 600;
    color: var(--color-dark);
    margin: 0;
}

/* Segunda fila del dashboard */
.dashboard-secondary-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
}

/* Tarjetas genéricas */
.dashboard-actividades-recientes,
.dashboard-columna-izquierda,.dashboard-grafico-container {
    background-color: white;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-md);
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

/* Encabezado de tarjetas */
.dashboard-card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.dashboard-card-header h3 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--color-dark);
    margin: 0;
}

/* Filtros para actividades */
.dashboard-filters {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.dashboard-filters label {
    font-size: 0.875rem;
    color: var(--color-gray);
}

.dashboard-select {
    padding: 0.375rem 0.75rem;
    font-size: 0.875rem;
    border: 1px solid #dee2e6;
    border-radius: var(--radius-sm);
    background-color: #fff;
    cursor: pointer;
    transition: border-color 0.15s ease-in-out;
}

.dashboard-select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 0.2rem rgba(239, 102, 70, 0.25);
}

/* Mensaje cuando no hay actividades */
.no-actividades {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 2rem;
    color: var(--color-gray);
    font-style: italic;
    text-align: center;
    border: 1px dashed #dee2e6;
    border-radius: var(--radius-md);
    margin-top: 1rem;
}

/* Botón "Ver todas" */
.dashboard-see-all {
    background: none;
    border: none;
    color: var(--color-primary);
    font-size: 0.875rem;
    cursor: pointer;
    font-weight: 500;
}

.dashboard-see-all:hover {
    text-decoration: underline;
}

/* Contenido de tarjetas */
.dashboard-card-body {
    padding: 1.5rem;
    flex: 1;
}

/* Tabla de actividades */
.actividades-table {
    width: 100%;
    border-collapse: collapse;
    table-layout: fixed;
    text-align: center; 
}

/* Contenedor con scroll para la tabla */
.tabla-con-scroll {
    max-height: 400px;
    overflow: auto;
    border-radius: var(--radius-sm);
    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.05);
    width: 100%;
    overflow-x: auto; /* scroll horizontal si es necesario */
}

/* Ajuste de tabla adaptable y columnas */
.tabla-con-scroll table {
    min-width: 600px; /* asegura que tenga espacio mínimo horizontal */
    width: 100%;
    table-layout: auto; /* mejor adaptación del contenido */
    border-collapse: collapse;
}

/* Estilo de celdas para buena legibilidad */
.tabla-con-scroll th,
.tabla-con-scroll td {
    padding: 0.75rem 0.5rem;
    white-space: normal;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: none;
    vertical-align: middle;
    text-align: center; /* ✅ CENTRAR TEXTO */
    font-size: 0.875rem;
    color: var(--color-dark);
    
}

/* Encabezado fijo */
.actividades-table th {
    position: sticky;
    top: 0;
    background-color: white;
    z-index: 1;
    font-weight: 600;
    font-size: 0.75rem;
    text-transform: uppercase;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
    text-align: center; /* ✅ centra encabezado */
}
/* Activamos la división con guiones para navegadores que lo soportan */


/* Para columnas específicas que necesitan un ancho diferente */
.actividades-table th:nth-child(1),
.actividades-table td:nth-child(1) {
    width: 15%;
}

.actividades-table th:nth-child(2),
.actividades-table td:nth-child(2) {
    width: 30%;
}

.actividades-table th {
    position: sticky;
    top: 0;
    background-color: white;
    z-index: 1;
    text-align: left;
    padding: 0.75rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--color-gray);
    text-transform: uppercase;
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.actividades-table td {
    padding: 0.01rem 0.5rem;
    font-size: 0.875rem;
    border-bottom: 1px solid rgba(0, 0, 0, 0.04);
    color: var(--color-dark);
}

.actividades-table tbody tr {
    cursor: pointer;
    transition: background-color 0.15s ease;
}

.actividades-table tbody tr:hover {
    background-color: rgba(0, 0, 0, 0.02);
}

/* Estilo para fila seleccionada */
.actividad-seleccionada {
    background-color: rgba(239, 102, 70, 0.1) !important;
}

.actividad-seleccionada td:first-child {
    border-left: 3px solid var(--color-primary);
}

/* Badges de tipo de actividad */
.tipo-badge {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    font-size: 0.75rem;
    font-weight: 500;
    border-radius: var(--radius-sm);
    text-align: center;
    white-space: nowrap;
}

.tipo-tarea {
    background-color: rgba(59, 130, 246, 0.1);
    color: hsl(200, 70%, 45%);
}

.tipo-examen {
    background-color: rgba(239, 68, 68, 0.1);
    color: hsl(350, 70%, 45%);
}

.tipo-proyecto {
    background-color: rgba(16, 185, 129, 0.1);
    color: hsl(120, 70%, 35%);
}

.tipo-taller {
    background-color: rgba(245, 158, 11, 0.1);
    color: hsl(40, 70%, 45%);
}

/* Gráfico circular de participantes */
.grafico-circular-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 1rem 0 2rem;
}

.grafico-circular {
    position: relative;
    width: 220px;
    height: 220px;
    border-radius: 50%;
    background-color: #f8f9fa;
}

/* Sectores del gráfico circular */
.sector-circular {
    position: absolute;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    clip-path: conic-gradient(
            from calc(var(--start-percent) * 3.6deg),
            var(--color) calc(var(--start-percent) * 0% + 0.1%),
            var(--color) calc((var(--end-percent) - var(--start-percent)) * 100%),
            transparent calc((var(--end-percent) - var(--start-percent)) * 100% + 0.1%)
    );
    transition: transform 0.3s ease;
}

.sector-circular:hover {
    transform: scale(1.05);
    z-index: 2;
}

.circulo-centro {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60%;
    height: 60%;
    border-radius: 50%;
    background-color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    z-index: 3;
}

.circulo-total {
    font-size: 2rem;
    font-weight: 700;
    color: var(--color-dark);
}

.circulo-label {
    font-size: 0.875rem;
    color: var(--color-gray);
}

/* Gráfico circular simplificado de participantes */
.grafico-container-centrado {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
    gap: 2rem;
}

.grafico-circular-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 auto;
}

.grafico-circular {
    position: relative;
    width: 250px;
    height: 250px;
    border-radius: 50%;
    background-color: #f8f9fa;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    overflow: hidden; /* Aseguramos que el contenido no se desborde */
}

/* Sectores del gráfico circular */
.sector-circular {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    transform-origin: center;
    background-color: var(--color);
}

/* Soporte para navegadores modernos con conic-gradient */
@supports (background: conic-gradient(red, blue)) {
    .grafico-circular {
        background: conic-gradient(
                var(--chart-colors, #f8f9fa)
        );
    }
}

.circulo-centro {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 50%;
    height: 50%;
    border-radius: 50%;
    background-color: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    z-index: 3;
}

.circulo-total {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--color-dark);
    line-height: 1;
}

.circulo-label {
    font-size: 0.875rem;
    color: var(--color-gray);
    margin-top: 0.25rem;
}

/* Mini leyenda simplificada */
.grafico-mini-leyenda {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 0.75rem;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
}

.mini-leyenda-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background-color: rgba(255, 255, 255, 0.6);
    border-radius: var(--radius-md);
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    font-size: 0.875rem;
}

.mini-leyenda-item:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
    background-color: white;
}

.mini-leyenda-color {
    width: 14px;
    height: 14px;
    border-radius: 50%;
    flex-shrink: 0;
}

.mini-leyenda-nombre {
    font-size: 0.875rem;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Diseño adaptable */
@media (max-width: 1200px) {
    .dashboard-secondary-row {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 768px) {

    .dashboard-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }

    .dashboard-stats-row {
        grid-template-columns: 1fr;
    }

    .dashboard-tabs {
        width: 100%;
        overflow-x: auto;
    }

    .dashboard-tab {
        padding: 0.75rem 1rem;
        white-space: nowrap;
    }

    .dashboard-card-header {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }

    .dashboard-filters {
        width: 100%;
    }

    .dashboard-select {
        flex: 1;
    }

    .barra-horizontal-container {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.25rem;
    }

    .barra-label {
        min-width: auto;
        text-align: left;
    }

    .grafico-donut {
        width: 150px;
        height: 150px;
    }

    .donut-total {
        font-size: 1.25rem;
    }

    .grafico-circular {
        width: 180px;
        height: 180px;
    }

    .circulo-total {
        font-size: 1.5rem;
    }

    .actividad-info-grid {
        grid-template-columns: 1fr;
    }

    /* 👇 CORRECCIÓN: eliminar espacio en blanco en móvil */
    .dashboard-content,
    .dashboard-content.navbar-collapsed {
        margin-left: 0 !important;
        width: 100vw !important;
    }
}
table.actividades-table th {
    text-align: center;
}